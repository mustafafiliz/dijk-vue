<script setup>
defineProps({
  person: Object
})

function getAvatarInitials(fullName) {
  if (!fullName) return ''

  const names = fullName.split(' ')

  return names
    .slice(0, 2)
    .map((name) => name.charAt(0))
    .join('')
}
</script>

<template>
  <div
    class="flex items-center gap-x-4 bg-white w-full py-[13px] px-[9px] rounded-2xl shadow-[0_0_10px_0_rgba(0,0,0,0.1)]"
  >
    <img
      v-if="person?.image"
      class="border-gamora border-[3px] w-12 h-12 box-content object-cover rounded-full"
      :src="person?.image"
      alt=""
    />
    <div
      v-else
      class="w-12 h-12 min-w-12 min-h-12 bg-gray-300 rounded-full flex items-center justify-center"
    >
      <span class="text-white">
        {{ getAvatarInitials(person.name) }}
      </span>
    </div>

    <div class="font-medium">
      <div class="text-night-sky">
        {{ person.name }}
      </div>
      <div class="text-12">
        {{ person.role }}
      </div>
    </div>

    <div class="flex items-center gap-x-4 ms-auto">
      <a
        target="_blank"
        v-if="person.phone"
        class="bg-white rounded-full flex items-center justify-center shadow-[0_0_10px_0_rgba(0,0,0,0.1)] w-[36px] h-[36px]"
        :href="`tel:${person.phone}`"
      >
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.6671 10.9108L11.3255 11.2704C11.3255 11.2704 10.5136 12.1252 8.29732 9.79192C6.08109 7.45863 6.89302 6.6038 6.89302 6.6038L7.10814 6.37733C7.63807 5.81943 7.68802 4.92373 7.22568 4.26983L6.27994 2.93221C5.70771 2.12288 4.60197 2.01596 3.94609 2.70648L2.76889 3.94586C2.44367 4.28824 2.22574 4.73209 2.25217 5.22446C2.31978 6.4841 2.85803 9.19425 5.86152 12.3564C9.04657 15.7097 12.0351 15.8429 13.2572 15.7223C13.6438 15.6842 13.9799 15.4757 14.2508 15.1905L15.3163 14.0688C16.0354 13.3117 15.8326 12.0136 14.9125 11.484L13.4796 10.6592C12.8754 10.3115 12.1393 10.4136 11.6671 10.9108Z"
            fill="#2F69FF"
          />
          <path
            d="M9.94461 1.40987C9.99426 1.10321 10.2841 0.895179 10.5908 0.944822C10.6098 0.948459 10.6709 0.959874 10.7029 0.966999C10.7669 0.981257 10.8562 1.00319 10.9675 1.03562C11.1901 1.10045 11.501 1.20725 11.8742 1.37835C12.6214 1.72092 13.6158 2.32017 14.6476 3.35202C15.6795 4.38387 16.2787 5.37823 16.6213 6.12544C16.7924 6.49865 16.8992 6.8096 16.964 7.03219C16.9964 7.1435 17.0184 7.23277 17.0326 7.29676C17.0398 7.32876 17.045 7.35446 17.0486 7.37344L17.053 7.39684C17.1025 7.70348 16.8964 8.00543 16.5898 8.05508C16.284 8.10458 15.9959 7.8975 15.9451 7.59233C15.9435 7.58408 15.9391 7.5621 15.9346 7.54133C15.9253 7.49978 15.9093 7.43391 15.8839 7.34679C15.8332 7.17254 15.745 6.91355 15.5986 6.59429C15.3063 5.95655 14.7805 5.07592 13.8521 4.14752C12.9238 3.21912 12.0431 2.69338 11.4054 2.40101C11.0861 2.25464 10.8271 2.16649 10.6528 2.11573C10.5658 2.09036 10.4563 2.06522 10.4147 2.05598C10.1095 2.0051 9.89511 1.71566 9.94461 1.40987Z"
            fill="#2F69FF"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M10.1143 3.99699C10.1997 3.69828 10.511 3.52531 10.8097 3.61065L10.6552 4.15152C10.8097 3.61065 10.8097 3.61065 10.8097 3.61065L10.8108 3.61097L10.812 3.6113L10.8144 3.61203L10.8203 3.61377L10.8351 3.61839C10.8464 3.622 10.8606 3.62671 10.8774 3.63269C10.911 3.64464 10.9556 3.66164 11.0102 3.68504C11.1195 3.73187 11.2687 3.80418 11.4522 3.91272C11.8192 4.12998 12.3204 4.49086 12.9091 5.07959C13.4979 5.66832 13.8587 6.16946 14.076 6.53656C14.1845 6.71994 14.2568 6.86924 14.3037 6.97851C14.3271 7.03311 14.3441 7.07763 14.356 7.11131C14.362 7.12815 14.3667 7.14227 14.3703 7.15358L14.3749 7.16842L14.3766 7.17423L14.3774 7.17673L14.3777 7.17789C14.3777 7.17789 14.3781 7.17897 13.8372 7.3335L14.3781 7.17897C14.4634 7.47767 14.2904 7.78899 13.9917 7.87434C13.6956 7.95894 13.3869 7.78966 13.2985 7.49561L13.2957 7.48752C13.2918 7.47625 13.2835 7.45407 13.2696 7.42167C13.2419 7.35691 13.1916 7.25099 13.1079 7.10955C12.9406 6.82699 12.6386 6.40005 12.1136 5.87508C11.5887 5.35012 11.1617 5.0481 10.8792 4.88087C10.7377 4.79715 10.6318 4.74683 10.567 4.71908C10.5346 4.7052 10.5124 4.69692 10.5012 4.69292L10.4931 4.69015C10.1991 4.60174 10.0297 4.29315 10.1143 3.99699Z"
            fill="#2F69FF"
          />
        </svg>
      </a>

      <a
        v-if="person.email"
        target="_blank"
        class="bg-white rounded-full flex items-center justify-center shadow-[0_0_10px_0_rgba(0,0,0,0.1)] w-[36px] h-[36px]"
        :href="`mailto:${person.email}`"
      >
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9.00003 8.33063L16.1888 3.7125C15.8998 3.49572 15.5488 3.37742 15.1875 3.375H2.81253C2.45126 3.37742 2.1003 3.49572 1.81128 3.7125L9.00003 8.33063Z"
            fill="url(#paint0_linear_226_1302)"
          />
          <path
            d="M9.30375 9.47249L9.20813 9.51749H9.16313C9.11133 9.54063 9.05633 9.5558 9 9.56249C8.95331 9.56837 8.90607 9.56837 8.85938 9.56249H8.81438L8.71875 9.51749L1.18125 4.64624C1.14524 4.78211 1.12634 4.92194 1.125 5.06249V12.9375C1.125 13.385 1.30279 13.8143 1.61926 14.1307C1.93572 14.4472 2.36495 14.625 2.8125 14.625H15.1875C15.6351 14.625 16.0643 14.4472 16.3807 14.1307C16.6972 13.8143 16.875 13.385 16.875 12.9375V5.06249C16.8737 4.92194 16.8548 4.78211 16.8187 4.64624L9.30375 9.47249Z"
            fill="url(#paint1_linear_226_1302)"
          />
          <defs>
            <linearGradient
              id="paint0_linear_226_1302"
              x1="9.00003"
              y1="3.375"
              x2="9.00003"
              y2="8.33063"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#FF1A76" />
              <stop offset="1" stop-color="#FF750F" />
            </linearGradient>
            <linearGradient
              id="paint1_linear_226_1302"
              x1="9"
              y1="4.64624"
              x2="9"
              y2="14.625"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#FF1A76" />
              <stop offset="1" stop-color="#FF750F" />
            </linearGradient>
          </defs>
        </svg>
      </a>

      <a
        v-if="person.whatsapp"
        target="_blank"
        class="bg-white rounded-full flex items-center justify-center shadow-[0_0_10px_0_rgba(0,0,0,0.1)] w-[36px] h-[36px]"
        :href="`https://wa.me/${person.whatsapp}`"
      >
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_226_1307)">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8.99739 0C4.03585 0 0 4.03698 0 8.99992C0 10.9682 0.634741 12.7935 1.71375 14.2751L0.592346 17.6189L4.05167 16.5133C5.47447 17.4551 7.17241 18 9.00261 18C13.9642 18 18 13.9629 18 9.00008C18 4.03714 13.9642 0.000148773 9.00261 0.000148773L8.99739 0ZM6.48482 4.57156C6.31031 4.1536 6.17804 4.13778 5.91367 4.12703C5.82365 4.1218 5.72333 4.11658 5.61211 4.11658C5.26817 4.11658 4.90855 4.21707 4.69164 4.43927C4.42726 4.7091 3.77131 5.33864 3.77131 6.6297C3.77131 7.92076 4.71284 9.1694 4.83973 9.34411C4.97199 9.51852 6.67529 12.2064 9.31998 13.3018C11.3881 14.1589 12.0018 14.0795 12.4725 13.979C13.1601 13.8309 14.0224 13.3227 14.2393 12.7091C14.4562 12.0953 14.4562 11.5714 14.3926 11.4603C14.3291 11.3492 14.1545 11.2859 13.8901 11.1535C13.6257 11.0212 12.3403 10.3862 12.0969 10.3016C11.8588 10.2117 11.6315 10.2435 11.4517 10.4975C11.1978 10.852 10.9493 11.2119 10.7482 11.4287C10.5895 11.598 10.3302 11.6192 10.1134 11.5292C9.82247 11.4076 9.00799 11.1217 8.00288 10.2275C7.22527 9.5345 6.69636 8.67216 6.54305 8.41293C6.38958 8.14848 6.5272 7.99482 6.64872 7.85207C6.78098 7.68796 6.90789 7.57163 7.04015 7.41813C7.17242 7.26477 7.24647 7.18533 7.33111 7.0054C7.42113 6.83084 7.35752 6.6509 7.29408 6.5186C7.23063 6.3863 6.70172 5.09524 6.48482 4.57156Z"
              fill="#67C15E"
            />
          </g>
          <defs>
            <clipPath id="clip0_226_1307">
              <rect width="18" height="18" fill="white" />
            </clipPath>
          </defs>
        </svg>
      </a>
    </div>
  </div>
</template>
